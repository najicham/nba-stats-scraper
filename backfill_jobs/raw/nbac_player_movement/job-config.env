# File: backfill_jobs/raw/nbac_player_movement/job-config.env
# Description: Cloud Run job configuration for NBA.com Player Movement processor backfill

# CRITICAL: Use unique name - add "processor" to distinguish from scraper jobs
JOB_NAME="nbac-player-movement-processor-backfill"
JOB_SCRIPT="backfill_jobs/raw/nbac_player_movement/nbac_player_movement_raw_backfill.py"
JOB_DESCRIPTION="Process NBA.com Player Movement data from GCS to BigQuery"

# Resources
TASK_TIMEOUT="3600"  # 1 hour (processing 8,797 records with deduplication)
MEMORY="4Gi"         # Higher memory for BigQuery operations with large datasets
CPU="2"              # 2 CPU cores for parallel processing

# Default processing parameters (can be overridden with --args)
# No specific date defaults - processes all available files by default
BUCKET_NAME="nba-scraped-data"

# Processing notes:
# - Processes all available files in nba-com/player-movement/ if no dates specified
# - Filters to 2021+ transactions automatically (â‰ˆ4,200 of 8,797 total records)
# - Uses INSERT_NEW_ONLY strategy to avoid duplicates
# - Handles composite primary key for multi-team trades