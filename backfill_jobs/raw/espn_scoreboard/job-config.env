# File: backfill_jobs/raw/espn_scoreboard/job-config.env
# Description: Cloud Run job configuration for ESPN scoreboard processor backfill
#              Schedule-Based Version - Only processes actual game dates

# CRITICAL: Use unique name - add "processor" to distinguish from scraper jobs
JOB_NAME="espn-scoreboard-processor-backfill"
JOB_SCRIPT="backfill_jobs/raw/espn_scoreboard/espn_scoreboard_raw_backfill.py"
JOB_DESCRIPTION="Process ESPN scoreboard data from GCS to BigQuery (schedule-based, backup data)"

# Resources (ESPN data is lightweight, schedule-based is efficient)
TASK_TIMEOUT="7200"  # 2 hours (safer)
MEMORY="2Gi"
CPU="1"

# Default configuration (processes all 4 seasons, schedule-based)
# No START_DATE/END_DATE needed - uses schedule to find game dates automatically
SEASONS="2021,2022,2023,2024"  # All 4 complete seasons
BUCKET_NAME="nba-scraped-data"

# Key improvements over date-range approach:
# - Skips ~500 off-days automatically (37% fewer operations)
# - Reads schedule once per season (4 GCS reads total)
# - Resume logic via BigQuery checks
# - Reports missing ESPN files for validation