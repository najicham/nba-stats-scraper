# File: backfill_jobs/raw/nbac_gamebook/job-config.env
# Configuration for NBA.com Gamebook backfill job
# Updated for sequential processing with extended timeout

# Job identification (uses dashes for Cloud Run compatibility)
JOB_NAME="nbac-gamebook-processor-backfill"
JOB_SCRIPT="backfill_jobs/raw/nbac_gamebook/nbac_gamebook_raw_backfill.py"
JOB_DESCRIPTION="Backfill NBA.com gamebook data (box scores with DNP/inactive players)"

# Resources - Updated for longer processing
TASK_TIMEOUT="21600"  # 6 hours for safe sequential processing
MEMORY="8Gi"          # Increased memory for name resolution caching
CPU="4"               # More CPU for faster file processing
MAX_RETRIES="1"

# Job-specific environment variables
START_DATE="2021-10-01"  # Start of 2021-22 season
END_DATE="2025-06-30"    # End of 2024-25 playoffs
BUCKET_NAME="nba-scraped-data"
MAX_WORKERS="1"          # Sequential processing (not used in updated version)
BATCH_SIZE="0"           # 0 = process all at once

# Optional overrides
REGION="us-west2"
PROJECT_ID="nba-props-platform"
SERVICE_ACCOUNT="756957797294-compute@developer.gserviceaccount.com"

# Test run examples (uncomment for testing):
# START_DATE="2024-01-15"  # 5-day test period
# END_DATE="2024-01-19"
# TEAM_FILTER="BKN,PHX,CHA"  # Test problematic teams