# Quick Reference Card - Jan 27, 2026

**Status**: âš ï¸ 3 CRITICAL ISSUES | Games: âœ… All Scraped

---

## ðŸ”´ CRITICAL - Fix TODAY

### #1: BigQuery Quota Crisis
```
Problem: 743 circuit breaker writes/day from PlayerGameSummaryProcessor
Action:  Implement write batching or migrate to Firestore
File:    shared/processors/mixins/circuit_breaker_mixin.py
```

### #2: Missing Cache (Jan 26)
```
Problem: Cache failed due to Jan 25 PlayerGameSummaryProcessor error
Action:  Fix Jan 25 failure, retry cache for Jan 26
Command: gcloud scheduler jobs run same-day-phase4
```

### #3: Usage Rate Bug
```
Problem: 59% players missing usage_rate (jarenjacksonjr example)
Action:  Debug join/calculation in PlayerGameSummaryProcessor
Impact:  ML features incomplete for ~133 players
```

---

## ðŸ“Š Quick Stats

| Metric | Value | Status |
|--------|-------|--------|
| Games Scraped | 7/7 | âœ… |
| Player Records | 226 | âœ… |
| Points Coverage | 100% | âœ… |
| Usage Rate | 41.4% | âŒ (need 90%) |
| Cache (Jan 26) | 0 players | âŒ (need >100) |
| Circuit Breaker | 1,248 writes | âš ï¸ (quota risk) |

---

## ðŸŽ¯ Root Causes

1. **Quota**: Updating on every retry (should batch)
2. **Cache**: Dependency check too strict (Jan 25 blocked Jan 26)
3. **Usage**: Join bug (team stats exist but calculation returns NULL)

---

## âš¡ Quick Commands

### Check Cache Status
```bash
bq query "SELECT cache_date, COUNT(DISTINCT player_lookup)
FROM \`nba-props-platform.nba_precompute.player_daily_cache\`
WHERE cache_date >= '2026-01-25'
GROUP BY cache_date ORDER BY cache_date DESC"
```

### Check Circuit Breaker Writes
```bash
bq query "SELECT processor_name, COUNT(*) as writes
FROM \`nba-props-platform.nba_orchestration.circuit_breaker_state\`
WHERE DATE(updated_at) = CURRENT_DATE()
GROUP BY processor_name ORDER BY writes DESC"
```

### Retry Cache
```bash
gcloud scheduler jobs run same-day-phase4
```

### Check Usage Rate
```bash
bq query "SELECT player_lookup, usage_rate
FROM \`nba-props-platform.nba_analytics.player_game_summary\`
WHERE game_date = '2026-01-26'
  AND minutes_played > 0
ORDER BY CASE WHEN usage_rate IS NULL THEN 0 ELSE 1 END,
  usage_rate DESC LIMIT 20"
```

---

## ðŸ“ž Escalation

| Severity | Time to Fix | Owner |
|----------|-------------|-------|
| #1 Quota | TODAY | Backend Team |
| #2 Cache | TODAY | Data Eng Team |
| #3 Usage Rate | THIS WEEK | Analytics Team |

---

## âœ… Next Validation: 6 PM PST

Check:
- [ ] Cache updated for Jan 26
- [ ] No quota errors in logs
- [ ] Predictions generated for tonight
- [ ] Usage rate coverage improved

---

**Created**: 2026-01-27 8:15 AM PST
**Full Report**: `docs/09-handoff/daily-validation-2026-01-27.md`
**Summary**: `docs/09-handoff/EXECUTIVE-SUMMARY-2026-01-27.md`
