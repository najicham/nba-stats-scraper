Context from Session 82 (2026-01-17):
- NBA predictions generating successfully (100% ML-based)
- Boxscores ingesting reliably from multiple sources (BDL + NBA.com)
- Data quality: 100% gold tier
- Player game summaries: Creating daily with actual results
- Current gap: NBA grading NOT yet implemented (MLB only)
- See validation: /tmp/nba_pipeline_validation_2026-01-16.md
- Complete status: docs/09-handoff/SESSION-82-IMPLEMENTATION-COMPLETE.md

Starting Session 85: NBA Prediction Grading (Phase 6)
=====================================================

Goal: Implement automated prediction grading to track model accuracy and ROI

Business Value:
- Measure model accuracy and ROI
- Detect model drift early
- Validate model improvements
- Report performance to stakeholders

What to Build:
1. BigQuery table: nba_predictions.prediction_grades (partitioned, clustered)
2. Daily grading query (scheduled, runs at noon PT)
3. Reporting views:
   - prediction_accuracy_summary (daily accuracy trends)
   - confidence_calibration (are confidence scores accurate?)
   - player_prediction_performance (per-player accuracy)
4. Documentation: Grading system runbook

Expected Time: 4-6 hours (or 2-3 hours for quick MVP with scheduled query)

Deliverables:
- [ ] prediction_grades table created with proper schema
- [ ] Scheduled query grading yesterday's predictions
- [ ] 3+ reporting views for analyzing accuracy
- [ ] Historical backfill (optional: grade last 7+ days)
- [ ] Grading documentation in docs/06-grading/NBA-GRADING-SYSTEM.md
- [ ] Create SESSION-85-NBA-GRADING-COMPLETE.md handoff

Implementation Guide: docs/09-handoff/SESSION-85-NBA-GRADING.md

Current Data Availability:
- Predictions table: nba_predictions.player_prop_predictions
  • Fields: predicted_points, confidence_score, recommendation, current_points_line
- Actuals table: nba_analytics.player_game_summary
  • Fields: points (actual), data_quality_tier
- Games: 6 games on 2026-01-16 with 238 player records (ready for grading!)

Key Metrics to Calculate:
1. Overall accuracy (% correct OVER/UNDER predictions)
2. Confidence calibration (90% confidence → 90% accuracy?)
3. Average margin of error (points)
4. ROI simulation (theoretical betting returns)
5. Accuracy by player tier / line range

Recommended Approach:
Start with BigQuery scheduled query (simplest, 2-3 hours):
1. Create table schema
2. Write grading SQL query
3. Set up daily schedule (noon PT)
4. Create reporting views
5. Test with historical data

Can upgrade to Cloud Function later if needed.

MLB Reference:
You can reference MLB grading implementation for patterns (it already exists).
Look for MLB grading tables/queries as examples.

Start by reading the full implementation guide in SESSION-85-NBA-GRADING.md.
