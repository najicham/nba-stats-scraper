FROM python:3.11-slim

WORKDIR /app

# Install dependencies (added python-dotenv)
RUN pip install --no-cache-dir requests google-cloud-storage python-dotenv

# Copy just the utils directory (minimal but sufficient)
COPY scrapers/utils/ ./scrapers/utils/
COPY scrapers/__init__.py ./scrapers/

# Copy the job script
COPY scripts/odds_api_single_day_test_job.py .

# Set Python path so imports work
ENV PYTHONPATH=/app
ENV PYTHONUNBUFFERED=1

ENTRYPOINT ["python", "odds_api_single_day_test_job.py"]